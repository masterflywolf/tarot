import{_ as e,V as t,p as s,q as a,v as n,o as r,c as l,w as i,a as o,F as p,d as u,e as c,r as d,t as g,C as m,aK as f,i as h,aL as _,aM as A,f as k}from"./index-6d8df4d2.js";import{_ as x}from"./uni-popup-dialog.aa82751c.js";import{_ as v}from"./uni-popup.4ce3ad51.js";let y=()=>console.log("为定义");const C=e({name:"uni-agreements",computed:{agreements(){if(!t.agreements)return[];let{serviceUrl:e,privacyUrl:s}=t.agreements;return[{url:e,title:"用户服务协议"},{url:s,title:"隐私政策条款"}]}},props:{scope:{type:String,default:()=>"register"}},methods:{popupConfirm(){this.isAgree=!0,y()},popup(e){this.needPopupAgreements=!0,this.$nextTick((()=>{e&&(y=e),this.$refs.popupAgreement.open()}))},navigateTo({url:e,title:t}){s({url:"/uni_modules/uni-id-pages/pages/common/webview/webview?url="+e+"&title="+t,success:e=>{},fail:()=>{},complete:()=>{}})},hasAnd:(e,t)=>e.length-1>t,setAgree(e){this.isAgree=!this.isAgree,this.$emit("setAgree",this.isAgree)}},created(){var e,s;this.needAgreements=((null==(s=null==(e=t)?void 0:e.agreements)?void 0:s.scope)||[]).includes(this.scope)},data:()=>({isAgree:!1,needAgreements:!0,needPopupAgreements:!1})},[["render",function(e,t,s,y,C,b){const w=f,T=h,j=_,P=A,$=k,U=a(n("uni-popup-dialog"),x),q=a(n("uni-popup"),v);return b.agreements.length?(r(),l($,{key:0,class:"root"},{default:i((()=>[C.needAgreements?(r(),o(p,{key:0},[u(P,{onChange:b.setAgree},{default:i((()=>[u(j,{class:"checkbox-box"},{default:i((()=>[u(w,{checked:C.isAgree,style:{transform:"scale(0.5)","margin-right":"-6px"}},null,8,["checked"]),u(T,{class:"text"},{default:i((()=>[c("同意")])),_:1})])),_:1})])),_:1},8,["onChange"]),u($,{class:"content"},{default:i((()=>[(r(!0),o(p,null,d(b.agreements,((e,t)=>(r(),l($,{class:"item",key:t},{default:i((()=>[u(T,{class:"agreement text",onClick:t=>b.navigateTo(e)},{default:i((()=>[c(g(e.title),1)])),_:2},1032,["onClick"]),b.hasAnd(b.agreements,t)?(r(),l(T,{key:0,class:"text and",space:"nbsp"},{default:i((()=>[c(" 和 ")])),_:1})):m("",!0)])),_:2},1024)))),128))])),_:1})],64)):m("",!0),C.needAgreements||C.needPopupAgreements?(r(),l(q,{key:1,ref:"popupAgreement",type:"center"},{default:i((()=>[u(U,{confirmText:"同意",onConfirm:b.popupConfirm},{default:i((()=>[u($,{class:"content"},{default:i((()=>[u(T,{class:"text"},{default:i((()=>[c("请先阅读并同意")])),_:1}),(r(!0),o(p,null,d(b.agreements,((e,t)=>(r(),l($,{class:"item",key:t},{default:i((()=>[u(T,{class:"agreement text",onClick:t=>b.navigateTo(e)},{default:i((()=>[c(g(e.title),1)])),_:2},1032,["onClick"]),b.hasAnd(b.agreements,t)?(r(),l(T,{key:0,class:"text and",space:"nbsp"},{default:i((()=>[c(" 和 ")])),_:1})):m("",!0)])),_:2},1024)))),128))])),_:1})])),_:1},8,["onConfirm"])])),_:1},512)):m("",!0)])),_:1})):m("",!0)}],["__scopeId","data-v-2709ff10"]]);export{C as _};
